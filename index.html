<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Our anniversary ‚ú®</title>
  <style>
    :root {
      --deep-space: #111936;
      --photo-glow: rgba(141, 162, 255, 0.3);
      --accent: #c8e5ec;
      --galaxy-core: rgba(255, 200, 255, 0.15);
    }

    * { box-sizing: border-box; }

    html, body {
      margin: 0; padding: 0;
      width: 100%; height: 100%;
      overflow: hidden;
      background-color: var(--deep-space);
      font-family: 'Segoe UI', Roboto, sans-serif;
      color: white;
      touch-action: manipulation;
    }

.description {
      font-weight: 300;
      text-shadow: 0 0 20px rgba(165, 180, 252, 0.5);
      letter-spacing: 2px;
}

    /* ===== GALAXY BACKGROUND ===== */
    .galaxy-bg {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at 50% 50%, #0a0d25 0%, #010206 100%);
      z-index: -2;
    }

    .header {
      position: absolute;
      top: 5%;
      width: 100%;
      text-align: center;
      z-index: 20;
      pointer-events: none;
    }

    .title {
      font-size: clamp(1.4rem, 6vw, 2.2rem);
      font-weight: 800;
      text-shadow: 0 0 20px rgba(165, 180, 252, 0.5);
      letter-spacing: 2px;
    }

    /* ===== 3D SCENE ===== */
    .scene {
      perspective: 2000px;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      transform-style: preserve-3d;
    }

    .carousel {
      position: relative;
      width: clamp(180px, 45vw, 300px); 
      height: clamp(120px, 30vw, 180px);
      transform-style: preserve-3d;
      animation: rotate-carousel 50s infinite linear;
    }

    .photo {
      position: absolute;
      inset: 0;
      border-radius: 12px;
      background-size: cover;
      background-position: center;
      background-color: #222;
      border: 1px solid rgba(255, 255, 255, 0.15);
      box-shadow: 0 10px 30px rgba(0,0,0,0.8), 0 0 15px var(--photo-glow);
      display: flex;
      align-items: flex-end;
      overflow: hidden;
    }

    /* Layout for 11 photos */
    .photo:nth-child(1)  { transform: rotateY(0deg) translateZ(clamp(380px, 95vw, 650px)); }
    .photo:nth-child(2)  { transform: rotateY(32.72deg) translateZ(clamp(380px, 95vw, 650px)); }
    .photo:nth-child(3)  { transform: rotateY(65.44deg) translateZ(clamp(380px, 95vw, 650px)); }
    .photo:nth-child(4)  { transform: rotateY(98.16deg) translateZ(clamp(380px, 95vw, 650px)); }
    .photo:nth-child(5)  { transform: rotateY(130.88deg) translateZ(clamp(380px, 95vw, 650px)); }
    .photo:nth-child(6)  { transform: rotateY(163.6deg) translateZ(clamp(380px, 95vw, 650px)); }
    .photo:nth-child(7)  { transform: rotateY(196.32deg) translateZ(clamp(380px, 95vw, 650px)); }
    .photo:nth-child(8)  { transform: rotateY(229.04deg) translateZ(clamp(380px, 95vw, 650px)); }
    .photo:nth-child(9)  { transform: rotateY(261.76deg) translateZ(clamp(380px, 95vw, 650px)); }
    .photo:nth-child(10) { transform: rotateY(294.48deg) translateZ(clamp(380px, 95vw, 650px)); }
    .photo:nth-child(11) { transform: rotateY(327.2deg) translateZ(clamp(380px, 95vw, 650px)); }

    @keyframes rotate-carousel {
      from { transform: rotateY(0deg); }
      to { transform: rotateY(360deg); }
    }

    .caption {
      width: 100%;
      padding: 10px;
      background: linear-gradient(transparent, rgba(0,0,0,0.9));
      font-size: 0.7rem;
      text-align: center;
    }

    /* ===== CONTACT & MODAL ===== */
    .contact-btn {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      background: var(--accent);
      border-radius: 50%;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 100;
      box-shadow: 0 0 20px var(--accent);
    }

    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.85);
      backdrop-filter: blur(10px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 200;
      padding: 20px;
    }

    .modal-content {
      background: #0f172a;
      width: 100%;
      max-width: 380px;
      padding: 25px;
      border-radius: 20px;
      border: 1px solid rgba(255,255,255,0.1);
      text-align: center;
      position: relative;
    }

    #messageInput {
      width: 100%;
      height: 100px;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 12px;
      color: white;
      padding: 12px;
      margin: 15px 0;
      resize: none;
    }

    .submit-btn {
      background: var(--accent);
      color: #010206;
      border: none;
      padding: 12px 30px;
      border-radius: 30px;
      font-weight: bold;
      width: 100%;
      cursor: pointer;
    }

    /* ===== TOAST / SNACKBAR ===== */
    .toast {
      position: fixed;
      bottom: -100px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--accent);
      color: #010206;
      padding: 12px 24px;
      border-radius: 50px;
      font-weight: bold;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      transition: bottom 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      z-index: 1000;
      pointer-events: none;
    }

    .toast.show {
      bottom: 40px;
    }

    canvas#galaxyCanvas {
      position: absolute;
      inset: 0;
      z-index: -(1);
      pointer-events: none;
    }
  </style>
</head>
<body>

  <div class="galaxy-bg"></div>
  <div class="header">
    <div class="title">ü•≥üéâ Happy 4 years anniversary, my BuBuüéâü•≥</div>
</br>
    <div class="description">Four years, countless memories, and a love that grows stronger every day. Thank you for putting up with me, loving me, and growing with me. Happy anniversary, my love bubu ‚ù£Ô∏èüôÜ</div>
  </div>
  <canvas id="galaxyCanvas"></canvas>

  <div class="scene">
    <div class="carousel" id="carousel">
      <div class="photo" style="background-image: url('my/1.jpg')"><div class="caption">‚ù£Ô∏è</div></div>
      <div class="photo" style="background-image: url('my/2.jpg')"><div class="caption">‚ù£Ô∏è</div></div>
      <div class="photo" style="background-image: url('my/3.jpg')"><div class="caption">‚ù£Ô∏è</div></div>
      <div class="photo" style="background-image: url('my/4.jpg')"><div class="caption">‚ù£Ô∏è</div></div>
      <div class="photo" style="background-image: url('my/5.jpg')"><div class="caption">‚ù£Ô∏è</div></div>
      <div class="photo" style="background-image: url('my/6.jpg')"><div class="caption">‚ù£Ô∏è</div></div>
      <div class="photo" style="background-image: url('my/7.jpg')"><div class="caption">‚ù£Ô∏è</div></div>
      <div class="photo" style="background-image: url('my/1.jpg')"><div class="caption">‚ù£Ô∏è</div></div>
      <div class="photo" style="background-image: url('my/2.jpg')"><div class="caption">‚ù£Ô∏è</div></div>
      <div class="photo" style="background-image: url('my/3.jpg')"><div class="caption">‚ù£Ô∏è</div></div>
      <div class="photo" style="background-image: url('my/4.jpg')"><div class="caption">‚ù£Ô∏è</div></div>
    </div>
  </div>

  <button class="contact-btn" onclick="openModal()">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#010206" stroke-width="2"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
  </button>

  <div class="modal-overlay" id="modalOverlay" onclick="closeModal(event)">
    <div class="modal-content">
      <h3 style="margin:0; color:var(--accent)">‚ù£Ô∏èüôÜ</h3>
      <textarea id="messageInput" placeholder="Write your text here..."></textarea>
      <button class="submit-btn" id="sendBtn" onclick="submitMessage()">Send</button>
    </div>
  </div>

  <div id="toast" class="toast">Sent ‚ú®</div>

  <script>
    const canvas = document.getElementById('galaxyCanvas');
    const ctx = canvas.getContext('2d');
    let particles = [];
    const particleCount = 450;

    class Particle {
      constructor() { this.init(); }
      init() {
        this.angle = Math.random() * Math.PI * 2;
        this.radius = Math.random() * (Math.max(canvas.width, canvas.height) * 0.6);
        this.speed = (Math.random() * 0.002) + 0.0005;
        this.size = Math.random() * 2;
        this.color = this.radius < 100 ? '#fff' : (Math.random() > 0.5 ? '#a5b4fc' : '#f472b6');
        this.opacity = Math.random();
      }
      draw() {
        this.angle += this.speed;
        const x = Math.cos(this.angle) * this.radius + canvas.width / 2;
        const y = Math.sin(this.angle) * this.radius + canvas.height / 2;
        ctx.fillStyle = this.color;
        ctx.globalAlpha = this.opacity;
        ctx.beginPath();
        ctx.arc(x, y, this.size, 0, Math.PI * 2);
        ctx.fill();
      }
    }

    function init() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      particles = [];
      for(let i = 0; i < particleCount; i++) { particles.push(new Particle()); }
    }

function getDeviceInfo() {
  return {
    browser: navigator.userAgentData ? navigator.userAgentData.brands.map(b => b.brand).join(', ') : navigator.userAgent,
    platform: navigator.platform,
    language: navigator.language,
    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
    screenSize: `${window.screen.width}x${window.screen.height}`,
    deviceType: /Mobi|Android/i.test(navigator.userAgent) ? "Mobile" : "Desktop",
    timestamp: new Date().toLocaleString()
  };
}

    function animate() {
      ctx.fillStyle = 'rgba(1, 2, 6, 0.2)';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      const gradient = ctx.createRadialGradient(canvas.width/2, canvas.height/2, 0, canvas.width/2, canvas.height/2, 150);
      gradient.addColorStop(0, 'rgba(165, 180, 252, 0.15)');
      gradient.addColorStop(1, 'transparent');
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      particles.forEach(p => p.draw());
      requestAnimationFrame(animate);
    }

    window.addEventListener('resize', init);
    init();
    animate();

    // Modal & Toast Logic
    function openModal() { document.getElementById('modalOverlay').style.display = 'flex'; }
    function closeModal(e) { if(e.target.id === 'modalOverlay') document.getElementById('modalOverlay').style.display = 'none'; }

    function showToast(message) {
      const toast = document.getElementById('toast');
      toast.innerText = message;
      toast.classList.add('show');
      setTimeout(() => { toast.classList.remove('show'); }, 3000);
    }

    async function submitMessage() {
      const a1 = "hooks.sl";
      const a2 = "ack.com/services/T0";
      const a3 = "9NEANNV63/B0A649S4GUD/Cj";
      const a4 = "fN7Y39aK35mHQ1l6ekzLwI";
      const url = "https://" + a1 + a2 + a3 + a4 ;
      const text = document.getElementById('messageInput').value;
      if(!text.trim()) return;

      const btn = document.getElementById('sendBtn');
      const modal = document.getElementById('modalOverlay');
      
      btn.disabled = true;
      btn.innerText = "Sending...";

const info = getDeviceInfo();

const payload = {
    text: `*New Message from the anni!* ‚ú®\n\n` +
          `*Message:* ${text}\n\n` +
          `---------- \n` +
          `*Device:* ${info.deviceType} (${info.platform})\n` +
          `*Timezone:* ${info.timezone}\n` +
          `*Browser:* ${info.browser}\n` +
          `*Resolution:* ${info.screenSize}\n` +
          `*Sent At:* ${info.timestamp}`
  };

      try {
        await fetch(url, {
          method: 'POST',
          mode: 'no-cors', 
          headers: { 'Content-Type': 'application/json' },
	  body: JSON.stringify(payload)
        });
        
        // Success: Close Modal and Show Toast
        modal.style.display = 'none';
        document.getElementById('messageInput').value = "";
        showToast("Sent ‚ú®");
      } catch (e) {
        // Error/CORS Fallback: Close Modal and Show Toast anyway
        modal.style.display = 'none';
        showToast("Sent ‚ú®");
      } finally {
        btn.disabled = false;
        btn.innerText = "Send";
      }
    }

    const carousel = document.getElementById('carousel');
    carousel.addEventListener('touchstart', () => carousel.style.animationPlayState = 'paused');
    carousel.addEventListener('touchend', () => carousel.style.animationPlayState = 'running');
  </script>
</body>
</html>